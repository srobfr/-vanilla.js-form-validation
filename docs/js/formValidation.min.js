"use strict";function assignPlaceholders(){var e={first_name:"First name",last_name:"Last name",textarea_1:"Text1",textarea_2:"Text2",email:"email@gmail.com",password:"Password",vid_number:"VID",tickets_count:"1"};for(var t in e)document.getElementsByName(t)[0].value="",document.getElementsByName(t)[0].placeholder=e[t]}function validateNames(e,t){var a=function(e){return/[0-9]/.test(e)};return a(e)||a(t)?(createBubble("Your names cannot contain digits"),!1):0!==e.length&&0!==t.length||(createBubble("Name fields cannot be left empty"),!1)}function validateTextArea1(e){return e.length>10?(createBubble("Text box cannot contain more than 10 characters"),!1):0!==e.length||(createBubble("Text box 1 cannot be empty"),!1)}function validateTextArea2(e){return e.length>20?(createBubble("Second text box cannot contain more than 20 characters"),!1):0!==e.length||(createBubble("Text box 2 cannot be empty"),!1)}function validateEmail(e){return 0===e.length?(createBubble("Please provide an e-mail adress"),!1):function(e){return/\s/.test(e)}(e)?(createBubble("Email can't have whitespaces"),!1):!function(e){return!/^.+@.+\..{2,6}$/.test(e)}(e)||(createBubble("Email not correct"),!1)}function validatePass(e){return e.length<8?(createBubble("Password must be at least 8 letters long"),!1):function(e){return!/[a-z]+/gi.test(e)}(e)?(createBubble("Password must contain at least 1 letter"),!1):function(e){return!/[\d]+/.test(e)}(e)?(createBubble("Password must contain at least 1 digit"),!1):!function(e){return!/[!@#$%^&*()/\\}\[\].{,'";:|=+_\-?><~`]+/.test(e)}(e)||(createBubble("Password must contain at least 1 special sign"),!1)}function validateVID(e){return 0===e.length?(createBubble("VID field cannot be left empty"),!1):!function(e){return!/^[\d]{1,5}$/.test(e)}(e)||(createBubble("VID number can only contain 1 to 5 digits"),!1)}function validateAmount(e){return 0===e.length?(createBubble("Fill in the ticket amount"),!1):e>20?(createBubble("You can only buy 20 tickets at once"),!1):!(e<1||function(e){return!/^[\d]{1,2}$/.test(e)}(e))||(createBubble("Incorrect ticket amount"),!1)}function saveToLocalStorage(){for(var e=["first_name","last_name","textarea_1","textarea_2","email","password","vid_number","tickets_count"],t=0;t<e.length;t++)localStorage.setItem(e[t],document.getElementsByName(e[t])[0].value);return createBubble("FORM SENT!"),!0}function validateForm(){return!!(validateNames(document.getElementsByName("first_name")[0].value,document.getElementsByName("last_name")[0].value)&&validateTextArea1(document.getElementsByName("textarea_1")[0].value)&&validateTextArea2(document.getElementsByName("textarea_2")[0].value)&&validateEmail(document.getElementsByName("email")[0].value)&&validatePass(document.getElementsByName("password")[0].value)&&validateVID(document.getElementsByName("vid_number")[0].value)&&validateAmount(document.getElementsByName("tickets_count")[0].value))&&(saveToLocalStorage(),!0)}function createBubble(e){var t=document.createElement("div"),a=document.getElementById("bubble_holder");t.innerHTML=e,t.setAttribute("class","message_bubble"),e.length<=45&&(t.style.cssText="padding-top:10px; min-height:30px;"),a.insertBefore(t,a.childNodes[0]),setTimeout(function(){t.style.opacity=0},500),setTimeout(function(){a.removeChild(a.lastChild)},4500)}function createWarning(e,t,a){var n=document.getElementsByName(e)[0].value,l=document.getElementById(t);n.length>a?(l.style.display="inline",l.innerHTML="This field cannot contain more than "+a+" signs. Currently you have "+(n.length-a)+" too many."):l.style.display="none"}window.onload=function(){assignPlaceholders()};var primitiveTest=function(e,t){return e===t},runMailTests=function(){for(var e=["asd@o2.pl","asd@tlen.pl","21a#d@o2.pl","21a#d@o2.com","Axd@tlen.museum"],t=["as d@o2.pl","asd@o 2.pl","asd @o2.pl","asd@ o2.pl","asd@o2pl","@o2.pl","asdo2.pl","asd@o2"," ",""],a=0;a<e.length;a++)!0!==primitiveTest(validateEmail(e[a]),!0)?console.log("test against "+e[a]+" failed"):console.log("test against "+e[a]+" passed");for(var n=0;n<t.length;n++)!0!==primitiveTest(validateEmail(t[n]),!1)?console.log("test against "+t[n]+"failed!!"):console.log("test against "+t[n]+" passed")},runPasswordTests=function(){for(var e=["aAd123@q","123@qASx","123!@#asfgh","123!@#ASDFGH"],t=["asd","asd2","asd2#4","asdfghjk","ASDFGHJKLO","12345678","!@#$%^&*","12!@aA","23#$$$33#4342",""," "],a=0;a<e.length;a++)!0!==primitiveTest(validatePass(e[a]),!0)?console.log("test against "+e[a]+" failed"):console.log("test against "+e[a]+" passed");for(var n=0;n<t.length;n++)!0!==primitiveTest(validatePass(t[n]),!1)?console.log("test against "+t[n]+"failed!!"):console.log("test against "+t[n]+" passed")};